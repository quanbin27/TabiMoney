@startuml ACT_006_UpdateTransaction
start
:User chọn giao dịch cần cập nhật;
:User chỉnh sửa thông tin:
amount, category, description, date;
:User nhấn "Lưu";
:Validate dữ liệu;
if (Dữ liệu không hợp lệ?) then (có)
  :Hiển thị lỗi;
  stop
endif
:Kiểm tra giao dịch tồn tại;
if (Giao dịch không tồn tại?) then (có)
  :Trả về lỗi "Transaction not found";
  stop
endif
:Kiểm tra quyền sở hữu;
if (Không có quyền?) then (có)
  :Trả về lỗi "Unauthorized";
  stop
endif
:Cập nhật transaction record;
:Cập nhật cache;
:Kiểm tra budget và tạo notification nếu cần;
:Trả về transaction đã cập nhật;
:Hiển thị giao dịch đã được cập nhật;
stop
@enduml

