@startuml ACT_014_ExpensePrediction
start
:User truy cập trang "Dự đoán chi tiêu"
hoặc hệ thống tự động chạy (cuối tháng);
:Lấy lịch sử giao dịch 3-6 tháng gần nhất;
if (User có < 3 tháng dữ liệu?) then (có)
  :AI Service trả về "Cần thêm dữ liệu để dự đoán chính xác";
  stop
endif
:Phân tích:
- Trend chi tiêu theo tháng
- Pattern theo category
- Seasonal patterns;
:Áp dụng ML model (Linear Regression hoặc LSTM);
:Dự đoán chi tiêu tháng tới:
- Tổng chi tiêu
- Chi tiêu theo category
- Confidence score;
if (Confidence score < 0.5?) then (có)
  :Cảnh báo "Dự đoán có độ tin cậy thấp";
  :Hiển thị với disclaimer;
endif
:Lưu kết quả vào ai_analysis với type='expense_prediction';
:Hiển thị dự đoán cho user;
:User có thể xem chi tiết và so sánh với thực tế sau này;
stop
@enduml

