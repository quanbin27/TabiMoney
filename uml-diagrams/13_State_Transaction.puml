@startuml State_Transaction
[*] --> Draft : Tạo mới
Draft --> Pending : Lưu nháp
Pending --> Confirmed : Xác nhận
Pending --> Cancelled : Hủy
Confirmed --> Updated : Cập nhật
Updated --> Confirmed : Xác nhận lại
Confirmed --> Deleted : Xóa
Updated --> Deleted : Xóa
Cancelled --> [*]
Deleted --> [*]

state Confirmed {
    [*] --> Active
    Active --> Recurring : Nếu is_recurring = true
}

@enduml

