@startuml UseCase_Overall
!define ACTOR_COLOR #FFD700
!define USECASE_COLOR #87CEEB
!define SYSTEM_COLOR #90EE90

actor User as user ACTOR_COLOR
actor "Telegram Bot" as telegram ACTOR_COLOR
actor "AI Service" as ai_service ACTOR_COLOR

package "TabiMoney System" SYSTEM_COLOR {
    usecase "Đăng ký tài khoản" as UC_Register USECASE_COLOR
    usecase "Đăng nhập" as UC_Login USECASE_COLOR
    usecase "Quản lý hồ sơ" as UC_ManageProfile USECASE_COLOR
    usecase "Nhập giao dịch thủ công" as UC_ManualTransaction USECASE_COLOR
    usecase "Nhập giao dịch bằng NLU" as UC_NLUTransaction USECASE_COLOR
    usecase "Xem danh sách giao dịch" as UC_ViewTransactions USECASE_COLOR
    usecase "Cập nhật giao dịch" as UC_UpdateTransaction USECASE_COLOR
    usecase "Xóa giao dịch" as UC_DeleteTransaction USECASE_COLOR
    usecase "Quản lý danh mục" as UC_ManageCategories USECASE_COLOR
    usecase "Tạo mục tiêu tài chính" as UC_CreateGoal USECASE_COLOR
    usecase "Theo dõi mục tiêu" as UC_TrackGoal USECASE_COLOR
    usecase "Đóng góp vào mục tiêu" as UC_ContributeGoal USECASE_COLOR
    usecase "Tạo ngân sách" as UC_CreateBudget USECASE_COLOR
    usecase "Theo dõi ngân sách" as UC_TrackBudget USECASE_COLOR
    usecase "Xem Dashboard" as UC_ViewDashboard USECASE_COLOR
    usecase "Xem phân tích chi tiêu" as UC_ViewAnalytics USECASE_COLOR
    usecase "Chat với AI" as UC_AIChat USECASE_COLOR
    usecase "Dự đoán chi tiêu" as UC_PredictExpense USECASE_COLOR
    usecase "Phát hiện bất thường" as UC_DetectAnomaly USECASE_COLOR
    usecase "Phân loại thông minh" as UC_SmartCategorize USECASE_COLOR
    usecase "Xem thông báo" as UC_ViewNotifications USECASE_COLOR
    usecase "Quản lý cài đặt thông báo" as UC_ManageNotificationSettings USECASE_COLOR
    usecase "Liên kết Telegram" as UC_LinkTelegram USECASE_COLOR
    usecase "Nhập giao dịch qua Telegram" as UC_TelegramTransaction USECASE_COLOR
}

user --> UC_Register
user --> UC_Login
user --> UC_ManageProfile
user --> UC_ManualTransaction
user --> UC_NLUTransaction
user --> UC_ViewTransactions
user --> UC_UpdateTransaction
user --> UC_DeleteTransaction
user --> UC_ManageCategories
user --> UC_CreateGoal
user --> UC_TrackGoal
user --> UC_ContributeGoal
user --> UC_CreateBudget
user --> UC_TrackBudget
user --> UC_ViewDashboard
user --> UC_ViewAnalytics
user --> UC_AIChat
user --> UC_PredictExpense
user --> UC_DetectAnomaly
user --> UC_ViewNotifications
user --> UC_ManageNotificationSettings
user --> UC_LinkTelegram

telegram --> UC_LinkTelegram
telegram --> UC_TelegramTransaction
telegram --> UC_AIChat

ai_service --> UC_NLUTransaction
ai_service --> UC_PredictExpense
ai_service --> UC_DetectAnomaly
ai_service --> UC_SmartCategorize
ai_service --> UC_AIChat

UC_NLUTransaction ..> UC_ManualTransaction : <<extends>>
UC_SmartCategorize ..> UC_ManualTransaction : <<extends>>
UC_ViewDashboard ..> UC_ViewAnalytics : <<includes>>
UC_TrackBudget ..> UC_ViewAnalytics : <<includes>>
UC_TrackGoal ..> UC_ViewAnalytics : <<includes>>

@enduml

