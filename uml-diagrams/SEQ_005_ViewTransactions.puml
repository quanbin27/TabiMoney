@startuml SEQ_005_ViewTransactions
actor User
participant "Frontend" as Frontend
participant "Backend API" as Backend
participant "Transaction Handler" as Handler
participant "Database" as DB

User -> Frontend: Truy cập trang danh sách giao dịch
Frontend -> Backend: GET /api/v1/transactions?page=1&limit=20
Backend -> Handler: List(userID, filters)
Handler -> DB: Query transactions với filters
DB --> Handler: Transaction list
Handler -> Handler: Phân trang kết quả
Handler --> Backend: Transactions response
Backend --> Frontend: 200 OK với danh sách
Frontend --> User: Hiển thị danh sách giao dịch

alt User lọc theo category
    User -> Frontend: Chọn category filter
    Frontend -> Backend: GET /api/v1/transactions?category_id=5
    Backend -> Handler: List(userID, category_id=5)
    Handler -> DB: Query với category filter
    DB --> Handler: Filtered transactions
    Handler --> Backend: Filtered response
    Backend --> Frontend: 200 OK
    Frontend --> User: Hiển thị danh sách đã lọc
end

alt User tìm kiếm
    User -> Frontend: Nhập từ khóa tìm kiếm
    Frontend -> Backend: GET /api/v1/transactions?search=bún
    Backend -> Handler: List(userID, search="bún")
    Handler -> DB: Query với search
    DB --> Handler: Search results
    Handler --> Backend: Search response
    Backend --> Frontend: 200 OK
    Frontend --> User: Hiển thị kết quả tìm kiếm
end
@enduml

